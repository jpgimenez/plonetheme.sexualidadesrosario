<?xml version="1.0" encoding="UTF-8"?>
<rules
    xmlns="http://namespaces.plone.org/diazo"
    xmlns:css="http://namespaces.plone.org/diazo/css"
    xmlns:xsl="http://www.w3.org/1999/XSL/Transform"
    xmlns:xi="http://www.w3.org/2001/XInclude">

  <!-- Import Barceloneta rules -->
  <xi:include href="++theme++barceloneta/backend.xml" />

  <rules css:if-content="body.userrole-anonymous">
    <theme href="index.html" />

    <!-- include /about on homepage only -->
    <replace css:theme-children="#about h2"
      css:content-children="#content h1" href="/about"
      css:if-content="body.template-document_view.section-front-page" />
    <replace css:theme="#about .text-faded" 
      css:content-children="#content #parent-fieldname-text" href="/about" 
      css:if-content="body.template-document_view.section-front-page" />

    <!-- include /register on homepage only -->
    <replace css:theme-children="#register h2"
      css:content-children="#content h1" href="/register"
      css:if-content="body.template-document_view.section-front-page" />
    <replace css:theme="#register form" 
      css:content-children="#content #parent-fieldname-text" href="/register" 
      css:if-content="body.template-document_view.section-front-page" />

  </rules>

</rules>
